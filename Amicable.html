<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>HW6</title>
</head>

<script language="javascript">
	num1 = 0;
	num2 = 0;
	isAmicable = false;
	var factors1 = [];
	var factors2 = [];

	function checkAmicable(str1, str2)
	{
		//need to reset the boolean everytime we click
		isAmicable = false;

		setVals(str1, str2);
		factors1 = getFactors(num1);
		factors2 = getFactors(num2);
		printFactors(factors1, factors2);
		var total1 = 0;
		var total2 = 0;

		total1 = addFactors(factors1);
		total2 = addFactors(factors2);
		console.log(total1);
		console.log(total2);

		if (total1 == num2 && total2 == num1)
		{
			isAmicable = true;
		}
		console.log(isAmicable);
	}

	function addFactors(arr)
	{
		var total = 0;
		for (i = 0; i < arr.length; i++)
		{
			total += arr[i];
		}
		return total;
	}


	function printFactors(arr1, arr2)
	{
		str1 = arr1.join(',');
		str2 = arr2.join(',');
		alert("Factors for Num1: " + str1 + " Factors for Num2: " + str2);
	}


	function setVals(val1, val2)
	{
		num1 = val1;
		num2 = val2;
	}

	//create an array that will hold all of the factors of num, then return it
	function getFactors(num)
	{
		var array = [1];
		array[0] = 1;
		for (i = 2; i < num; i++)
		{
			if (num % i == 0)
			{
				array.push(i);
			}
		}
		console.log(array);
		return array;
	}
</script>

<body>

	<form>
		<label for="num1">First Number:</label><br>
  		<input type="text" id="num1" name="num1"><br>
  		<label for="num2">Second Number:</label><br>
  		<input type="text" id="num2" name="num2"><br>
		<input type="button" value="Confirm" name="confirmButton" onclick="checkAmicable(num1.value, num2.value); printResult()"> <br>
	</form>

	<div id="myDIV">
		<script language="javascript">
			//print the result whether isAmicable is true or false
			function printResult()
			{
				var str;
				if (isAmicable)
				{
					str = "The Numbers: " + num1 + " and " + num2 + " are amicable.";
					document.getElementById("myDIV").innerHTML = str;
				}

				else
				{
					str = "The Numbers: " + num1 + " and " + num2 + " are not amicable.";
					document.getElementById("myDIV").innerHTML = str;
				}
			}
		</script>

	<div>
</body>

</html>